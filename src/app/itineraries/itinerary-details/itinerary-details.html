<div class="it-detail-container">
  @if (store.loading()) {
    <p>Cargando detalles del Itinerario...</p>
  } @else if (currentIt$()?.id === itineraryId) {

    <section class="itinerary-info">
      <h1>{{ currentTrip$()?.name }} â€” {{ currentTrip$()?.destination }}</h1>

      <ul class="meta-chips">
        <li class="chip">ğŸ“… {{ currentIt$()?.itineraryDate }}</li>
        @if (currentIt$()?.notes) {
          <li class="chip">ğŸ“ Con notas</li>
        }
      </ul>

      <h2 class="sub">Actividades</h2>
      <ul class="activity-list">
        @if (currentIt$()?.activities?.length) {
          @for (activ of currentIt$()?.activities; track $index) {
            <li class="activity-item">
              <span class="dot"></span>
              <span class="text">{{ activ.description }}</span>
            </li>
          }
        } @else {
          <li class="empty">No hay actividades planificadas para este dÃ­a.</li>
        }
      </ul>

      @if (currentIt$()?.notes) {
        <h2 class="sub">Notas</h2>
        <p class="notes">{{ currentIt$()?.notes }}</p>
      }

      <div class="it-actions">
        <button class="btn-edit" (click)="toEdit(currentIt$()?.id!)">Editar Itinerario</button>
        <button class="btn-delete" (click)="onDeleteItinerary()">Eliminar Itinerario</button>
      </div>
    </section>

  } @else {
    <p>No se encontrÃ³ el Itinerario o no tienes permiso.</p>
  }
</div>
